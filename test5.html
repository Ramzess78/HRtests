<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Диагностика стилей руководства (Журавлёв)</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container py-5" id="main">
  <h1 class="mb-3">Диагностика стилей руководства (А.Л. Журавлёв)</h1>
  <p>Инструкция: Для каждого из 27 пунктов выберите <b>один или несколько</b> вариантов (чекбоксы), которые соответствуют поведению руководителя.</p>

    <div class="my-4">
        <a href="old.html" class="btn btn-danger">Назад</a>
    </div>
  <form id="testForm" class="mb-4">
    <div id="questions"></div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary">Подсчитать результат</button>
      <button type="button" id="resetBtn" class="btn btn-secondary">Сбросить</button>
    </div>
  </form>

  <small class="text-muted d-block mt-3">
    Ключ и правила обработки взяты из предоставенного PDF. Если один вариант отмечен — начисляются все баллы, указанные для этого варианта.
  </small>
</div>

<div class="container py-5 d-none" id="resultBlock">
  <h2>Результат</h2>
  <div id="resultSummary" class="mb-3"></div>
  <div id="resultInterpretation" class="mb-3"></div>
  <button id="retakeBtn" class="btn btn-outline-primary">Пройти ещё раз</button>
</div>

<script src="bootstrap.bundle.min.js"></script>
<script src="https://telegram.org/js/telegram-web-app.js?59"></script>

<script>
/*
  Вопросы (полные формулировки) — взяты из PDF.
  Ключ — транскрибирован из таблицы в PDF: для каждого вопроса (1..27) и варианта (a..e)
  указаны баллы для стилей: D (Директивный), K (Коллегиальный), P (Попустительский).
  Если в таблице один вариант давал несколько стилей / баллов — все они применяются.
*/

// Массив вопросов (полные формулировки)
const questions = [
`1. Распределение полномочий между руководителями и подчиненными:
а) централизует руководство, требует, чтобы обо всех деталях докладывали именно ему;
б) руководитель пассивен в выполнении управленческих функций;
в) четко распределяет функции между собой; своими заместителями и подчиненными;
г) ожидает указаний сверху или даже требует их;
д) централизует руководство только в трудных ситуациях.`,
`2. Действия руководителя в критических (напряженных) ситуациях:
а) в критических ситуациях руководитель, как правило, переходит на более жесткие методы руководства;
б) критические ситуации не изменяют его способов руководства;
в) в критических ситуациях он не обходится без помощи вышестоящих руководителей;
г) сталкиваясь с трудностями, руководитель начинает более тесно взаимодействовать с подчиненными;
д) в критических ситуациях руководитель плохо справляется со своими обязанностями.`,
`3. Контакты руководителя с подчиненными:
а) недостаточно общительный человек, с людьми разговаривает мало;
б) регулярно общается с подчиненными, говорит о положении дел в коллективе, о трудностях, которые предстоит преодолеть;
в) умеет общаться, но специально ограничивает общение с подчиненными, держится от них на расстоянии;
г) старается общаться с подчиненными, но при этом испытывает трудности в общении;
д) общается в основном с активом коллектива.`,
`4. Продуктивность работы коллектива в отсутствие руководителя:
а) в отсутствие руководителя исполнители работают хуже;
б) коллектив не снижает продуктивности, если руководитель временно покидает его;
в) исполнители постоянно работают не в полную силу, при другом руководителе могли бы сделать больше;
г) продуктивность работы повышается в отсутствие руководителя;
д) в отсутствии руководителя коллектив работает с переменным успехом.`,
`5. Отношение руководителя к советам и возражениям со стороны исполнителей:
а) сам обращается за советом к подчиненным;
б) не допускает, чтобы руководимые ему советовали и тем более возражали;
в) подчиненные не только советуют, но могут давать указания своему руководителю;
г) руководитель советуется даже тогда, когда обстоятельства не особенно требуют этого;
д) если исполнители знают, как лучше выполнить работу, они говорят об этом своему руководителю.`,
`6. Контроль деятельности подчиненных:
а) контролирует работу от случая к случаю;
б) всегда очень строго контролирует работу руководимых и коллектива в целом;
в) контролируя работу, всегда за счет положительные результаты, хвалит исполнителей;
г) контролируя, обязательно выискивает недостатки в работе;
д) нередко вмешивается в работу исполнителей.`,
`7. Соотношение решений производственных и социально-психологических задач в процессе руководства коллективом:
а) его интересует только выполнение плана, а не отношение людей друг к другу;
б) решая производственные задачи, старается создать хорошие отношения между людьми в коллективе;
в) в работе не заинтересован, подходит к делу формально;
г) больше внимания уделяет налаживанию взаимоотношении в коллективе, а не выполнению производственных заданий;
д) когда нужно, защищает интересы своих подчиненных.`,
`8. Характер приказов руководителя:
а) приказывает так, что хочется выполнять;
б) приказывать руководитель не умеет;
в) просьба руководителя не отличается от приказа;
г) приказы принимаются, но выполняются недостаточно хорошо и быстро;
д) его приказы вызывают у руководимых недовольство.`,
`9. Отношение руководителя к критике со стороны подчиненных:
а) на критику руководитель обычно не обижается, прислушивается к ней;
б) критику выслушивает, даже обещает принять меры, но ничего не делает;
в) не любит, когда его критикуют и не старается скрыть это;
г) принимает критику только со стороны вышестоящих руководителей;
д) не реагирует на критику.`,
`10. Поведение руководителя при недостатке знаний:
а) сам решает даже те вопросы, с которыми не совсем хорошо знаком;
б) если чего-то не знает, то не боится это показать и обращается за помощью к другим;
в) можно сказать, что руководитель не стремится пополнить свои недостатки в знаниях;
г) когда чего-то не знает, то скрывает это и старается самостоятельно восполнить недостатки в знаниях;
д) если руководитель не знает, как решить вопрос или выполнить работу, то поручает это своим подчиненным.`,
`11. Распределение ответственности между руководителем и подчиненными:
а) складывается впечатление, что он боится отвечать за свои действия, хочет уменьшить свою ответственность;
б) ответственность распределяет между собой и своими подчиненными;
в) всю ответственность возлагает только на себя;
г) нередко подчеркивает ответственность вышестоящих руководителей, старается свою ответственность переложить на них;
д) бывает, что руководитель, являясь ответственным за какое-то дело, пытается переложить его на своих замов или нижестоящих руководителей.`,
`12. Отношение руководителя к своим заместителям и помощникам:
а) старается, чтобы его заместители были квалифицированными специалистами;
б) добивается безотказного подчинения заместителей и помощников;
в) руководителю безразлично, кто у него работает заместителем (помощником);
г) осторожен по отношению к заместителям, потому что боится за свое положение;
д) не желает иметь рядом очень квалифицированных специалистов.`,
`13. Эмоциональная удовлетворенность исполнителя в отсутствие руководителя:
а) исполнители довольны, когда отсутствует руководитель, они чувствуют некоторое облегчение;
б) с руководителем работать интересно, поэтому ожидают его возвращения;
в) отсутствие руководителя не замечается исполнителями;
г) вначале исполнители довольны, что отсутствует руководитель а потом скучают;
д) сначала отсутствие руководителя чувствуется исполнителями а затем быстро забывается.`,
`14. Преобладающие методы воздействия на подчиненных:
а) для выполнения какой-то работы ему нередко приходится уговаривать своих подчиненных;
б) всегда что-нибудь приказывает, распоряжается, наставляет; но никогда не просит;
в) часто обращается к подчиненным с поручениями, просьбами советами;
г) часто делает руководимым замечания и выговоры;
д) его замечания всегда справедливы.`,
`15. Характер обращения руководителя с подчиненными:
а) всегда обращается к подчиненным вежливо и доброжелательно;
б) по отношению к подчиненным бывает нетактичен и даже грубым;
в) в обращении к подчиненным часто проявляет равнодушие;
г) создается впечатление, что вежливость руководителя неискренняя;
д) характер обращения к подчиненным у него часто меняется.`,
`16. Участие членов коллектива в управлении:
а) руководитель привлекает к управлению членов коллектива;
б) нередко руководитель перекладывает свои функции на других;
в) управленческие функции не закрепляются стабильно, их распределение может меняться;
г) бывает, что управленческие функции фактически принимает на себя не руководитель, а другие члены коллектива;
д) (нет варианта)`,
`17. Поддержание руководителем трудовой дисциплины:
а) руководитель стремится к формальной дисциплине и идеальному подчинению;
б) не может влиять на дисциплину;
в) руководитель умеет поддерживать дисциплину и порядок;
г) дисциплина выглядит хорошей, так как подчиненные боятся руководителя;
д) руководитель недостаточно пресекает нарушения дисциплины.`,
`18. Характер общения руководителя с исполнителями:
а) общается с подчиненными только по деловым вопросам;
б) заговаривая с подчиненными о деле, руководитель спрашивает и о личном, о семье;
в) часто общается по личным вопросам, не касаясь дела;
г) инициатива общения исходит от исполнителей, руководитель редко заговаривает сам;
д) нередко руководителя трудно понять в общении с ними.`,
`19. Характер принятия решений по руководству коллективно:
а) руководитель единолично вырабатывает решения или отменяет их;
б) редко берется за выполнение сложного дела, а скорее уходит от этого;
в) старается решать вместе с подчиненными, единолично решает только самые срочные и оперативные вопросы;
г) решает только те вопросы, которые сами возникают, не старается заранее предусмотреть их решения;
д) берется за решение в основном мелких вопросов.`,
`20. Взаимоотношения между людьми в коллективе:
а) в руководимом коллективе недостаточно развиты взаимопомощь и взаимное доверие;
б) старается, чтобы у подчиненных на работе было хорошее настроение;
в) в его коллективе наблюдается повышенная текучесть кадров, люди нередко уходят из коллектива и не жалеют об этом;
г) люди, которыми он руководит, относятся друг к другу чутко, по-дружески;
д) в присутствии руководителя исполнителям постоянно приходится работать в напряжении.`,
`21. Предоставление самостоятельности подчиненным:
а) способствует тому, чтобы подчиненные работали самостоятельно;
б) иногда руководитель навязывает свое мнение, а говорит, что это мнение большинства;
в) исполнители работают больше по указаниям руководителя нежели самостоятельно;
г) исполнители предоставлены самим себе;
д) предоставляет подчиненным самостоятельность лишь время от времени.`,
`22. Отношение руководителя к советам других:
а) регулярно советуется с исполнителями, особенно с опытным работниками;
б) советуется с подчиненными только в сложной ситуации;
в) обычно советуется с заместителями и нижестоящими руководителями, но не с рядовыми исполнителями;
г) с удовольствием прислушивается к мнению коллег;
д) советуется только с вышестоящими руководителями.`,
`23. Соотношение инициативы руководителя и подчиненных:
а) инициатива подчиненных руководителем не принимается;
б) считает, что лучше сделать меньше (тогда меньше спросят);
в) руководитель поддерживает инициативу подчиненных;
г) он не может действовать сам, а ждет «подталкивания» со стороны;
д) инициативы не проявляет ни сам, ни его подчиненные.`,
`24. Характер требовательности руководителя:
а) его любимый лозунг: «Давай, давай!»;
б) он требователен, но одновременно и справедлив;
в) о нем можно сказать, что он бывает слишком строгим и даже придирчивым;
г) пожалуй, он не очень требовательный человек;
д) руководитель требователен к себе и к другим.`,
`25. Отношение руководителя к нововведениям:
а) наверное, он консервативен, потому что боится нового;
б) охотно поддерживает целесообразные нововведения;
в) поддерживая нововведения в сфере производства, с большим трудом меняет характер общения с людьми;
г) у него лучше получается с нововведениями в непроизводственной сфере (в быту, на отдыхе, в межличностных отношениях);
д) нововведения проходят мимо руководителя.`,
`26. Привлечение членов коллектива к выработке решений:
а) в своей работе широко опирается на общественные организации;
б) многие вопросы решаются коллективом на общем собрании;
в) некоторые важные дела решаются фактически без участия руководителя, его функции выполняют другие;
г) большинство вопросов решает за коллектив сам руководитель;
д) руководитель способствует внедрению различных форм самоуправления в коллективе.`,
`27. Отношение руководителя к самому себе:
а) руководителю безразлично, что о нем думают подчиненные;
б) никогда и ни в чем не проявляет своего превосходства над исполнителями;
в) считает себя незаменимым в коллективе;
г) увлеченно занимается своим делом и не думает о том, как его оценивают;
д) руководитель излишне критичен по отношению к исполнителям.`
];

// Ключ: для каждого номера и варианта (a..e) перечислены баллы по D/K/P (0 если нет)
const key = {
  1: { a: {D:3, K:0, P:0}, b: {D:0, K:0, P:2}, c: {D:0, K:3, P:0}, d: {D:0, K:0, P:3}, e: {D:0, K:2, P:0} },
  2: { a: {D:3, K:0, P:0}, b: {D:0, K:2, P:0}, c: {D:0, K:0, P:1}, d: {D:0, K:3, P:0}, e: {D:0, K:0, P:3} },
  3: { a: {D:0, K:0, P:1}, b: {D:0, K:2, P:0}, c: {D:2, K:0, P:0}, d: {D:0, K:1, P:2}, e: {D:0, K:2, P:0} },
  4: { a: {D:1, K:0, P:0}, b: {D:0, K:2, P:0}, c: {D:0, K:0, P:2}, d: {D:0, K:0, P:1}, e: {D:0, K:2, P:0} },
  5: { a: {D:0, K:3, P:0}, b: {D:2, K:0, P:0}, c: {D:0, K:0, P:2}, d: {D:0, K:2, P:0}, e: {D:0, K:1, P:0} },
  6: { a: {D:0, K:0, P:3}, b: {D:3, K:0, P:0}, c: {D:0, K:3, P:0}, d: {D:3, K:0, P:0}, e: {D:2, K:0, P:0} },
  7: { a: {D:1, K:0, P:0}, b: {D:0, K:1, P:0}, c: {D:0, K:0, P:2}, d: {D:0, K:1, P:1}, e: {D:0, K:1, P:0} },
  8: { a: {D:0, K:3, P:0}, b: {D:0, K:0, P:3}, c: {D:2, K:0, P:0}, d: {D:0, K:0, P:2}, e: {D:3, K:0, P:0} },
  9: { a: {D:0, K:2, P:0}, b: {D:0, K:0, P:2}, c: {D:2, K:0, P:0}, d: {D:2, K:0, P:0}, e: {D:0, K:0, P:2} },
 10: { a: {D:2, K:0, P:0}, b: {D:0, K:2, P:0}, c: {D:0, K:0, P:1}, d: {D:2, K:0, P:0}, e: {D:0, K:2, P:0} },
 11: { a: {D:0, K:0, P:2}, b: {D:0, K:2, P:0}, c: {D:2, K:0, P:0}, d: {D:1, K:0, P:2}, e: {D:2, K:0, P:0} },
 12: { a: {D:0, K:1, P:0}, b: {D:1, K:0, P:0}, c: {D:0, K:0, P:1}, d: {D:2, K:0, P:0}, e: {D:3, K:0, P:0} },
 13: { a: {D:2, K:0, P:0}, b: {D:0, K:2, P:0}, c: {D:0, K:0, P:2}, d: {D:0, K:1, P:0}, e: {D:1, K:0, P:2} },
 14: { a: {D:0, K:0, P:3}, b: {D:3, K:0, P:0}, c: {D:0, K:3, P:0}, d: {D:2, K:0, P:0}, e: {D:0, K:3, P:0} },
 15: { a: {D:0, K:2, P:0}, b: {D:2, K:0, P:0}, c: {D:0, K:0, P:2}, d: {D:2, K:0, P:0}, e: {D:2, K:0, P:0} },
 16: { a: {D:0, K:2, P:0}, b: {D:1, K:0, P:1}, c: {D:1, K:0, P:2}, d: {D:0, K:0, P:3}, e: {D:0, K:0, P:0} },
 17: { a: {D:2, K:0, P:0}, b: {D:0, K:0, P:2}, c: {D:0, K:2, P:0}, d: {D:2, K:0, P:0}, e: {D:0, K:0, P:3} },
 18: { a: {D:3, K:0, P:0}, b: {D:0, K:3, P:0}, c: {D:1, K:0, P:2}, d: {D:0, K:1, P:0}, e: {D:1, K:0, P:1} },
 19: { a: {D:3, K:0, P:0}, b: {D:0, K:0, P:2}, c: {D:0, K:3, P:0}, d: {D:0, K:0, P:3}, e: {D:0, K:0, P:3} },
 20: { a: {D:1, K:0, P:0}, b: {D:0, K:1, P:0}, c: {D:0, K:0, P:1}, d: {D:0, K:2, P:0}, e: {D:2, K:0, P:0} },
 21: { a: {D:0, K:2, P:0}, b: {D:2, K:0, P:0}, c: {D:2, K:0, P:0}, d: {D:0, K:0, P:2}, e: {D:2, K:0, P:0} },
 22: { a: {D:0, K:2, P:0}, b: {D:1, K:0, P:0}, c: {D:2, K:0, P:0}, d: {D:0, K:2, P:0}, e: {D:2, K:0, P:0} },
 23: { a: {D:2, K:0, P:0}, b: {D:0, K:0, P:2}, c: {D:0, K:2, P:0}, d: {D:0, K:0, P:2}, e: {D:0, K:0, P:3} },
 24: { a: {D:3, K:0, P:0}, b: {D:0, K:3, P:0}, c: {D:2, K:0, P:0}, d: {D:0, K:0, P:3}, e: {D:2, K:0, P:0} },
 25: { a: {D:0, K:0, P:1}, b: {D:0, K:1, P:0}, c: {D:2, K:0, P:0}, d: {D:0, K:2, P:0}, e: {D:0, K:0, P:2} },
 26: { a: {D:0, K:2, P:0}, b: {D:0, K:3, P:0}, c: {D:0, K:0, P:3}, d: {D:3, K:0, P:0}, e: {D:0, K:3, P:0} },
 27: { a: {D:0, K:0, P:1}, b: {D:0, K:2, P:0}, c: {D:1, K:0, P:0}, d: {D:0, K:2, P:0}, e: {D:3, K:0, P:0} }
};

// генерация HTML вопросов
function renderQuestions() {
  const container = document.getElementById('questions');
  container.innerHTML = '';
  questions.forEach((text, idx) => {
    const qNum = idx + 1;
    // разбиваем по строкам: первая строка — заголовок, затем варианты a..e
    // Варианты в тексте уже представлены буквенно; но для упрощения — создаём 5 чекбоксов a..e.
    const card = document.createElement('div');
    card.className = 'card mb-3';
    const body = document.createElement('div');
    body.className = 'card-body';
    const p = document.createElement('p');
    p.className = 'card-text';
    p.innerText = text;
    body.appendChild(p);

    const optionsDiv = document.createElement('div');
    optionsDiv.className = 'mt-2 d-flex flex-column gap-1';

    ['a','b','c','d','e'].forEach(opt => {
      // если для данного вопроса вариант e не применим (например в тексте 16.d отсутствует e), всё равно создаём чекбокс — пользователь просто не выберет
      const id = `q${qNum}_${opt}`;
      const wrapper = document.createElement('div');
      wrapper.className = 'form-check';
      const input = document.createElement('input');
      input.className = 'form-check-input';
      input.type = 'checkbox';
      input.id = id;
      input.name = `q${qNum}`;
      input.value = opt;
      const label = document.createElement('label');
      label.className = 'form-check-label';
      label.htmlFor = id;
      // метка — показываем букву и кратко "вариант a" — но оригинальные тексты вариантов находятся прямо в вопросе строкой. Чтобы избежать дублирования длинных фраз — оставим маркировку буквенную, т.к. в карточке выше уже есть полный текст с буквами.
      label.innerHTML = `<strong>${opt})</strong> выбрать`;
      wrapper.appendChild(input);
      wrapper.appendChild(label);
      optionsDiv.appendChild(wrapper);
    });

    body.appendChild(optionsDiv);
    card.appendChild(body);
    container.appendChild(card);
  });
}

// вызов отрисовки
renderQuestions();

function calculate() {
  // суммарные баллы
  let totals = {D:0, K:0, P:0};

  for (let i=1; i<=27; i++) {
    const checked = Array.from(document.querySelectorAll(`input[name="q${i}"]:checked`))
                        .map(el => el.value);
    if (!key[i]) continue;
    checked.forEach(opt => {
      const map = key[i][opt];
      if (!map) return;
      totals.D += (map.D || 0);
      totals.K += (map.K || 0);
      totals.P += (map.P || 0);
    });
  }

  // приведение к цифре удобной для анализа: разделить на 10 и округлить (как в методике)
  const D_scaled = Math.round(totals.D / 10);
  const K_scaled = Math.round(totals.K / 10);
  const P_scaled = Math.round(totals.P / 10);

  return {
    totals,
    scaled: {D: D_scaled, K: K_scaled, P: P_scaled}
  };
}

function interpret(scaled) {
  // определение доминирующего стиля: разница >=3 считается доминирующей
  const {D,K,P} = scaled;
  const arr = [{k:'Д',v:D},{k:'К',v:K},{k:'П',v:P}].sort((a,b)=>b.v-a.v);
  let dominance = '';
  if (arr[0].v - arr[1].v >= 3) {
    dominance = `Доминирующий стиль: ${arr[0].k} (значение ${arr[0].v}).`;
  } else if (Math.abs(arr[0].v - arr[1].v) <= 2 && arr[0].v - arr[2].v >= 3) {
    dominance = `Смешанный стиль (две доминирующие позиции): ${arr[0].k}-${arr[1].k} (значения ${arr[0].v} и ${arr[1].v}).`;
  } else {
    dominance = `Смешанный/сбалансированный стиль: ${arr.map(x=>x.k+'-'+x.v).join(', ')}.`;
  }

  // дополнительные подсказки по интерпретации (упрощённо, по методике)
  let note = `Интерпретация: каждая цифра — выраженность стиля в условной шкале до 10 (после деления на 10 и округления).`;
  note += `<br>Если все три показателя низкие — это может означать неопытность руководителя; если все три высокие — противоречивость/непредсказуемость.`;
  return dominance + '<br>' + note;
}

// событие отправки
document.getElementById('testForm').addEventListener('submit', function(e){
  e.preventDefault();

  // проверка: хотя методика позволяет не выбирать варианты, обычно хотя бы один выбор на вопрос ожидается.
  // Но мы не будем требовать заполнения всех 27 (методика допускает пропуски) — просто считаем отмеченное.
  const res = calculate();

  // скрыть основной контент
  document.getElementById('main').classList.add('d-none');

  // показать результат
  const block = document.getElementById('resultBlock');
  block.classList.remove('d-none');

  document.getElementById('resultSummary').innerHTML = `
    <p><strong>Сырые баллы:</strong> Д = ${res.totals.D}, К = ${res.totals.K}, П = ${res.totals.P}</p>
    <p><strong>После приведения (разделили на 10 и округлили):</strong> Д = ${res.scaled.D}, К = ${res.scaled.K}, П = ${res.scaled.P}</p>
  `;

  document.getElementById('resultInterpretation').innerHTML = interpret(res.scaled);
});

// сброс формы
document.getElementById('resetBtn').addEventListener('click', function(){
  document.getElementById('testForm').reset();
});

// снова пройти
document.getElementById('retakeBtn').addEventListener('click', function(){
  document.getElementById('resultBlock').classList.add('d-none');
  document.getElementById('main').classList.remove('d-none');
  window.scrollTo({top:0, behavior:'smooth'});
});

</script>

</body>
</html>
