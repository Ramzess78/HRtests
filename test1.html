<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR tests</title>
</head>
<body class="bg-light">
    <div class="container py-5" id="main">
        <h2 class="mb-4">Тест трудовой мотивации (Герчиков)</h2>
        <div class="my-4">
            <a href="new.html" class="btn btn-danger">Назад</a>
        </div>
        <form id="testForm"></form>

        <div class="mt-4">
            <button class="btn btn-primary" id="submitBtn">Завершить тест</button>
        </div>
    </div>

    <div class="container py-5 d-none" id="resultBlock">
        <h2 class="mb-4">Результат: ваш тип мотивации</h2>
        <div id="resultText" class="fs-4"></div>
    </div>
</body>
</html>
<script src="bootstrap.bundle.min.js"></script>
<script src="https://telegram.org/js/telegram-web-app.js?59"></script>
<script>
const questions = [
    {q: "1. Что Вы больше всего цените в своей работе?", multiple: true, max: 2, a:["Что я в основном сам решаю, что и как мне делать.", "Что она дает мне возможность проявить то, что я знаю и умею.", "Что я чувствую себя полезным и нужным.", "Что мне за нее относительно неплохо платят", "Особенно ничего не ценю, но эта работа мне хорошо знакома и привычна."], key:[4,2,3,1,5]},
    {q: "2. Какое выражение Вам подходит?", multiple: false, a:["Я хочу обеспечить своим трудом себе и своей семье приличный доход.", "В своей работе я – полный хозяин.", "У меня достаточно знаний и опыта, чтобы справиться с любыми трудностями в моей работе.", " Я - ценный, незаменимый для организации работник.", "Я всегда выполняю то, что от меня требуют."], key:[1,3,4,2,5]},
    {q: "3. Как Вы предпочитаете работать?", multiple: true, max: 2, a:["Предпочитаю делать то, что знакомо, привычно.", "Нужно, чтобы в работе постоянно появлялось что-то новое, чтобы, но стоять на месте.", "Чтобы было точно известно, что нужно сделать и что я за это получу.", "Предпочитаю работать под полную личную ответственность.", "Готов(а) делать все, что нужно для организации."], key:[3,2,5,4,1]},
    {q: "4. Допустим, что Вам предлагают другую работу в Вашей организации. При каких условиях Вы бы на это согласились?", multiple: true, max: 2, a:["Если предложат намного более высокую зарплату.","Если другая работа будет более творческой, интересней, чем нынешняя.","Если новая работа даст мне больше самостоятельности","Если это очень нужно для организации.","При всех случаях я предпочел (предпочла) бы остаться на той работе, к которой привык (привыкла)."], key:[1,2,4,3,5]},
    {q: "5. Попробуйте определить, что для Вас означает Ваш заработок?", multiple: true, max: 2, a:["Плата за время и усилия, потраченные на выполнение работы", "Это, прежде всего, плата за мои знания, квалификацию.", "Оплата за общие результаты деятельности организации", "Мне нужен гарантированный заработок - пусть небольшой, но чтобы он был", "Какой бы он ни был, я его заработал(а) сам(а)"], key:[1,2,3,5,4]},
    {q: "6. Заработная плата и премии", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[null,null,null,null,null]},
    {q: "7. Доплаты за квалификацию", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[1,1,3,3,null]},
    {q: "8. Доплаты за тяжелые и вредные условия работы", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[1,3,3,null,1]},
    {q: "9. Социальные выплаты и льготы, пособия", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[null,3,null,null,1]},
    {q: "10. Доходы от капитала, акций", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[3,3,3,1,3]},
    {q: "11. Любые дополнительные приработки", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[1,null,3,null,1]},
    {q: "12. Приработки, но не любые, а только по своей специальности", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[1,1,null,3,3]},
    {q: "13. Доходы от Личного хозяйства, дачного участка и т.п.", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[null,null,null,null,1]},
    {q: "14. Выигрыш в лотерею, казино и пр.", multiple:false, a:["Очень важно","Не очень важно","Совсем не важно"], key:[3,3,null,null,1]},
    {q: "15. На каких принципах, по-Вашему, должны строиться отношения между работником и организацией?", multiple:false, a:["Работник должен относиться к организации, как к своему дому, отдавать ей все и вместе переживать трудности и подъемы. Организация должна соответственно оценивать преданность и труд работника.","Работник продает организации свой труд, и если ему не дают хорошую цену, он вправе найти другого покупателя.","Работник приходит в организацию для самореализации и относится к ней, как к месту реализации своих способностей. Организация должна обеспечивать работнику такую возможность, извлекать из этого выгоду для себя и на этой основе развиваться.","Работник тратит на организацию свои силы, а организация должна взамен гарантировать ему зарплату и социальные блага."], key:[2,3,1,1,4]},
    {q: "16. Как Вы считаете, почему в процессе работы люди проявляют инициативу, вносят различные предложения?", multiple:true, max:2, a:["Чувствуют особую ответственность за свою работу.","Из-за стремления реализовать свои знания и опыт, выйти за установленные работой рамки","Чаще всего из-за желания улучшить работу своей организации.","Просто хотят «выделиться» или завоевать расположение начальства","Хотят заработать, поскольку всякая полезная инициатива должна вознаграждаться."], key:[5,2,3,1,4]},
    {q: "17. Какое суждение о коллективной работе Вам ближе?", multiple:true, max:2, a:["Коллектив для меня очень важен, одному хороших результатов не добиться","Предпочитаю работать автономно, но чувствую себя так же хорошо, когда работаю вместе с интересными людьми.","Мне нужна свобода действий, а коллектив чаще всего эту свободу ограничивает","Можно работать и в коллективе, но платить должны по личным результатам.","Мне нравится работать в коллективе, так как там я среди своих."], key:[4,2,1,3,5]},
    {q: "18. Представьте себе, что у вас появилась возможность стать владельцем Вашей организации. Воспользуетесь ли Вы этой возможностью?", multiple:true, max:2, a:["Да, так как я смогу участвовать в управлении организацией","Да, потому что это может увеличить мой доход","Да, так как настоящий работник должен быть совладельцем.","Вряд ли: на заработке это не скажется участие в управлении меня не интересует, а работе это помешает","Нет, не нужны мне лишние заботы."], key:[2,4,1,3,1,5]},
    {q: "19. Представьте, пожалуйста, что Вы сейчас ищете работу. Вам предлагают несколько работ. Какую из них Вы выберете?", multiple:true, max:2, a:["Наиболее интересную, творческую.","Наиболее самостоятельную, независимую.","За которую больше платят.","Чтобы за не слишком большие деньги не требовалось особенно «надрываться»","Не могу представить, что я уйду из нашей организации."], key:[3,1,5,2,4]},
    {q: "20. Что Вы, прежде всего, учитываете, когда оцениваете успехи другого работника а Вашей организации?", multiple:true, max:2, a:[" Его зарплату, доходы, материальное положение","Уровень его профессионализма, квалификации.","Насколько хорошо он «устроился».","Насколько его уважают в организации.","Насколько он самостоятелен, независим"], key:[1,2,4,5,3]},
    {q: "21. Если положение в Вашей организации ухудшится, на какие перемены в Вашей работе и положении Вы согласитесь ради того, чтобы остаться на работе? ", multiple:true, a:["Освоить новую профессию","Работать неполный рабочий день или перейти на менее квалифицированную работу и меньше получать.","Перейти на менее удобный режим работы.","Работать более интенсивно.","Соглашусь просто терпеть, потому что деваться некуда","Скорее всего, я просто уйду из этой организации."], key:{Инструментальный:[4,6],Профессиональный:[1,4,7],Патриотический:[1,2,4,5],Хозяйский:[1,2,4],Люмпенизированный:[2,5]}},
    {q: "22. Если Вы - РУКОВОДИТЕЛЬ, то что Вас привлекает, прежде всего, в этом положении?", multiple:true, max:2, a:["Возможность принимать самостоятельные, ответственные решения","Возможность принести наибольшую пользу организации.","Высокий уровень оплаты.","Возможность организовывать работу других людей.","Возможность наилучшим образом применить свои знания и умения.","Ничего особенно не привлекает, за положение руководителя не держусь."], key:{Инструментальный:[3,6],Профессиональный:[5],Патриотический:[2],Хозяйский:[1],Люмпенизированный:[4]}},
    {q: "23. Если Вы НЕ ЯВЛЯЕТЕСЬ РУКОВОДИТЕЛЕМ, то хотели бы Вы им стать?", multiple:true, max:2, a:["Да, поскольку это даст возможность принимать самостоятельные, ответственные решения","Не против, если это нужно для пользы дела.","Да, так как при этом я смогу лучше применить свои знания и умения.","Да, если это будет должным образом оплачиваться.","Нет, профессионал может отвечать только за самого себя.","Нет, руководство меня не привлекает, а хорошо заработать я могу и на своем месте.","Да, чем я хуже других?","Нет, это слишком большая нагрузка для меня."], key:{Инструментальный:[4,6],Профессиональный:[3,5],Патриотический:[2],Хозяйский:[1,3],Люмпенизированный:[7,8]}}
];

const types = ["Инструментальный", "Профессиональный", "Патриотический", "Хозяйский", "Люмпенизированный"];

function render() {
    const form = document.getElementById("testForm");
    questions.forEach((q, qi) => {
        const block = document.createElement("div");
        block.className = "mb-4 p-3 border rounded bg-white";

        let html = `<p><strong>${q.q}</strong></p>`;

        q.a.forEach((txt, ai) => {
            const name = "q" + qi;
            const id = name + "_" + ai;

            if (q.multiple) {
                html += `
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="${name}" value="${ai+1}" id="${id}">
                        <label class="form-check-label">${txt}</label>
                    </div>`;
            } else {
                html += `
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="${name}" value="${ai+1}" id="${id}">
                        <label class="form-check-label">${txt}</label>
                    </div>`;
            }
        });

        if (q.multiple && q.max)
            html += `<small class="text-muted">Можно выбрать до ${q.max}</small>`;

        block.innerHTML = html;
        form.appendChild(block);
    });
}

render();

document.getElementById("submitBtn").onclick = () => {
    let scores = {Инструментальный:0, Профессиональный:0, Патриотический:0, Хозяйский:0, Люмпенизированный:0};

    questions.forEach((q, qi) => {
        const selects = [...document.querySelectorAll(`input[name=q${qi}]:checked`)]
                     .map(e => parseInt(e.value));

        if (!selects.length) return;

        if (!Array.isArray(q.key) && typeof q.key === "object") {
            for (let t of types)
                if (q.key[t])
                    q.key[t].forEach(num => {
                        if (selects.includes(num)) scores[t]++;
                    });
        } else {
            selects.forEach(sel => {
                const typeNum = q.key[sel-1];
                if (!typeNum) return;
                const t = types[typeNum-1];
                scores[t]++;
            });
        }
    });

    document.getElementById("main").classList.add("d-none");
    const res = document.getElementById("resultBlock");
    res.classList.remove("d-none");

    let out = "";
    for (let t of types)
        out += `<div><strong>${t}:</strong> ${scores[t]}</div>`;

    document.getElementById("resultText").innerHTML = out;
};
</script>